---
import SIDEBAR from "../../constants/sidebar";

const pathname = new URL(Astro.request.url).pathname;
---

<div class="drawer-side z-40 md:border-r md:border-base-content/10">
  <label for="my-drawer-2" aria-label="close sidebar" class="drawer-overlay"
  ></label>
  <aside class="bg-base-100 min-h-screen w-80">
    <div
      class="bg-base-100 sticky top-0 z-20 items-center gap-2 bg-opacity-90 px-4 py-2 backdrop-blur lg:flex font-outfit"
    >
      <div class="flex items-center">
        <img src="/images/logo.webp" alt="Seedloaf" height={64} width={64} />
        <h1 class="text-xl font-press-start-2p"><a href="/">Seedloaf</a></h1>
        <span class="uppercase text-primary self-start text-xs font-bold mt-3">
          Beta
        </span>
      </div>
    </div>

    <ul class="menu w-full px-4 py-0 font-outfit">
      {
        SIDEBAR.map((navItem) => (
          <li>
            <h2 class="menu-title flex items-center gap-4 px-1.5">
              {navItem.title}
            </h2>
            <ul>
              {navItem.items.map((navItem) => (
                <li class="flex flex-col">
                  <a
                    href={navItem.href}
                    class={`hover:text-primary hover:bg-primary/5 transition flex ${pathname === navItem.href ? "text-primary bg-primary/5" : ""}`}
                  >
                    {navItem.title}
                  </a>
                </li>
              ))}
            </ul>
          </li>
        ))
      }
    </ul>
  </aside>
</div>
